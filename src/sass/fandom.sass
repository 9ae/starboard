$tab-menu-item-color: $color1
$tab-menu-item-color-active: $grey
$color-fic: #00B0FF
$color-art: #FF1744
$color-topic: #1DE9B6
$color-video: #FFB300
$extend-edges-of-card: 2 * ($box-padding + $card-border-radius)

=box($name, $color, $contrast: 25%)
  .box-#{$name}
    color: darken($color, $contrast)
    background: lighten($color, $contrast)

=imageBlurb
  .thumbnail
    border-top-left-radius: $card-border-radius
    border-top-right-radius: $card-border-radius
    width: 100%
    margin-bottom: $inner-spacing

=textBlurb($color)
  background-color: darken($color, 25%)
  color: $light-grey

@keyframes shrinkFilter
  from
    width: auto
    min-width: 88px
    margin-right: $inner-spacing
    padding: 6px 12px
  to
    width: 0
    min-width: 0
    margin-right: 0
    padding: 0

@keyframes expandFilter
  to
    width: auto
    min-width: 88px
    margin-right: $inner-spacing
    padding: 6px 12px
  from
    width: 0
    min-width: 0
    margin-right: 0
    padding: 0

.tab-menu
  padding: $box-padding 0
  display: none

  &.show
    display: block

  ul.tab-links
    list-style-type: none
    margin-bottom: 0
    display: flex
    justify-content: space-around
    padding-left: 0

    li
      display: inline-block
      flex-grow: 1
      text-align: center
      border-bottom: 2px solid $light-grey
      margin-left: 0

      &:hover
        border-color: $tab-menu-item-color

      &.active
        border-color: $tab-menu-item-color-active
        a
          color: $tab-menu-item-color-active

      a
        text-decoration: none
        text-transform: uppercase
        color: $tab-menu-item-color

  .tab-details
    margin-top: $inner-spacing

    a
      color: $color1
      text-decoration: none

  .show-more
    margin-top: 20px
    margin-bottom: 10px

    a
      color: $color-link
      text-decoration: underline

  .rest
    display: none

    &.active
      display: block

.blurb
  margin-top: $separator-spacing
  padding: 0
  // $box-padding + $card-border-radius
  background-color: $white
  border-radius: $card-border-radius
  width: calc(100% - 0.75rem)

  &:first-child
    margin-top: 0

  .excerpt
    width: 100%
    height: 200px
    overflow: hidden
    padding: 1.5rem $box-padding + $card-border-radius
    border-top-left-radius: $card-border-radius
    border-top-right-radius: $card-border-radius
    line-height: 1.2rem
    font-family: $font-family-headings
    box-sizing: border-box

    &::first-letter
      font-size: 3.0rem

  .content
    padding: $box-padding + $card-border-radius

@include box('fic', $color-fic)
@include box('art', $color-art)
@include box('topic', $color-topic)
@include box('video', $color-video)

.tag-chip
  display: inline-block
  border-radius: 1.5rem
  background-color: $white
  color: $dark-grey
  padding: 0.5rem 1.0rem
  margin: 6px
  font-size: 0.75rem
  line-height: 0.75rem

  &:first-child
    margin-left: 0

.box-fic
  .excerpt
    +textBlurb($color-fic)
  .tag-chip
    background-color: lighten($color-fic, 30%)
    color: darken($color-fic, 30%)

.box-art
  +imageBlurb
  .tag-chip
    background-color: lighten($color-art, 30%)
    color: darken($color-art, 30%)

.box-video
  +imageBlurb
  .tag-chip
    background-color: lighten($color-video, 35%)
    color: darken($color-video, 30%)

.box-topic
  .tag-chip
    background-color: lighten($color-topic, 35%)
    color: darken($color-topic, 30%)


.tag-cloud
  margin-top: $inner-spacing

.threads-header
  margin-left: 0
  margin-right: 0
  display: flex
  justify-content: space-between
  flex-wrap: nowrap
  align-items: baseline

  .filter-button
    text-align: center
    min-width: 88px
    flex-grow: 1
    display: inline-block
    margin-right: $inner-spacing

    &.hide
      min-width: 0
      margin-right: 0
      padding: 0
      width: 0
      border: 0
      animation-name: shrinkFilter
      animation-duration: 1.5s

    &.show
      animation-name: expandFilter
      animation-duration: 2s

  .search
    display: inline-block
    min-width: 200px
    flex-grow: 2


.threads-content
  margin-top: $separator-spacing
  display: flex
  flex-wrap: wrap
  justify-content: center

#joinleave
  min-width: 88px

.status-heading
  align-items: baseline
